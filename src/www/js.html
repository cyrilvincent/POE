<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS</title>
    <script src="js/mylibrary.js"></script>
    <script language="JavaScript">
        var red = true;
        function hello() {
            if(red) {
                document.bgColor='blue';
                red=false;
            }
            else {
                document.bgColor='red';
                red=true;
            }
        }

        function manageForm() {
            var title = document.forms["myForm"].elements["titleBox"].value;
            var price = document.forms["myForm"].elements["priceBox"].value;
            alert(title + " " + price);
        }

        function checkTitle() {
            var title = document.forms["myForm"].elements["titleBox"].value;
            if(title.length == 0) {
                alert("Titre vide impossible");
            } 
        }

        function checkPrice() {
            var price = document.forms["myForm"].elements["priceBox"].value;
            if(price.length == 0) {
                alert("Prix obligatoire");
            }
            else if(isNaN(price)) {
                alert("Prix au mauvais format");
            }
        }

        function changeDiv() {
            var list = document.getElementsByTagName("div");
            for(var i=0;i<list.length;i++) {
                console.log(list[i].textContent);
                list[i].textContent = "Hello"+i;
            }
        }

        function changeWorldDiv() {
            element = document.getElementById("worldId");
            element.textContent = "World Champion";
        }

        function changeGroupDiv() {
            element = document.getElementById("groupDiv");
            list = element.getElementsByTagName("div");
            for(var i=0;i<list.length;i++) {
                console.log(list[i].textContent);
                list[i].textContent = "Hello"+i;
            }
        }

        function changeHello() {
            element = document.getElementsByClassName("hello")[0];
            element.style.fontSize = "30px";
        }

        var isVisible=true;
        function toggleVisible() {
            element = document.getElementsByClassName("hello")[0];
            isVisible = !isVisible;
            if(isVisible) {
                element.style.visibility = "visible";
            }
            else {
                element.style.visibility = "hidden";
            }
        }

        var isEnabled=true;
        function toggleEnabled() {
            element = document.getElementById("myBtn");
            isEnabled = !isEnabled;
            element.style.disabled = true;
        }

    </script>
</head>
<body>
Hello Javascript!<br/>
<input type="button" value="OK" onclick="hello()">
<script lang="Javascript">
    document.write(circleArea(2));
    document.write(navigator.appCodeName);
    document.write("<br/>");
    var tab = new Array(1,2,3,4,5,6,7,8,9,10);
    display(tab);
    document.write(sum(tab)+"<br/>");
    document.write(max(tab)+"<br/>");
    document.write(avg(tab)+"<br/>");
    document.write(isPrime(7)+"<br/>");
    document.write(isPrime(8)+"<br/>");
    display(getPrimeNumbers(tab));

    var res = tab.filter(i => i % 2 == 0);
    display(res);
    res = tab.map(i => i + 1);
    display(res);
    var reduc = res.reduce((a,b)=>a+b,0);
    document.write(reduc + "<br/>");

    res = tab.filter(i => isPrime(i));
    display(res);
</script>

<input type="text" onclick="document.bgColor = 'black'" onmouseover="document.bgColor = 'green'" onmouseout="document.bgColor = 'blue'" onfocus="document.bgColor = 'yellow'"/>
<br/>
<br/>
<br/>
<form name="myForm">
    Title : <input type="text" name="titleBox" onblur="checkTitle()">*<br/>
    Price : <input type="text" name="priceBox" onblur="checkPrice()"/>*<br/> 
    <input type="button" value="OK" name="okButton" onclick="manageForm()"/>
    <div id="groupDiv">
        <div class="hello">Hello</div>
        <div id="worldId">World</div>
    </div>
    <div>Do not touch</div>
    <input id="myBtn" type="button" value="ChangeDiv" onclick="changeDiv()"/>
    <input type="button" value="ChangeWorld" onclick="changeWorldDiv()"/>
    <input type="button" value="ChangeGroupDiv" onclick="changeGroupDiv()"/>
    <input type="button" value="ChangeHello" onclick="changeHello()"/>
    <input type="button" value="ToggleHello"  onclick="toggleVisible()"/>
    <input type="button" value="ToggleEnabled"  onclick="toggleEnabled()"/>
</form>

<script>
    
</script>

</body>
</html>